import{r as f,u as M,b as k,j as e,a as g,d as N}from"./index-85df350c.js";import{b as E,u as T,i as d,E as P,a as $,T as y}from"./movies-selectors-e16075cf.js";import{T as A}from"./TitleText-d5d75509.js";import"./useForm-03986720.js";const F="_list_e76cb_1",R="_listItem_e76cb_10",C="_posterWrapper_e76cb_28",W="_listItemPoster_e76cb_35",D="_listItemInfo_e76cb_46",U="_like_e76cb_59",B="_likeActive_e76cb_69",O="_video_e76cb_74",G="_button_e76cb_91",L="_btnEdit_e76cb_119",s={list:F,listItem:R,posterWrapper:C,listItemPoster:W,listItemInfo:D,like:U,likeActive:B,video:O,button:G,btnEdit:L},S="http://localhost:4444",H=()=>{const v=f.useRef(null),r=M(),c=k(E),{isModalOpen:p,currentTrailerUrl:_,errorMessage:h,playTrailer:x,closeModal:b}=T(),j=(t,o)=>{r(g({id:t,favorite:!o}))},u=t=>{r(N(t))},I=c.map(({_id:t,title:o,director:n,genre:a,poster:i,releaseDate:m,favorite:l})=>e.jsxs("li",{className:s.listItem,children:[i&&e.jsx("div",{className:s.posterWrapper,children:e.jsx("img",{ref:v,className:s.listItemPoster,src:`${S}/${i}`,alt:`Poster for ${o}`})}),e.jsxs("div",{className:s.listItemInfo,children:[e.jsxs("h2",{children:["Назва: ",o]}),e.jsxs("span",{children:["Director: ",n]}),e.jsxs("span",{children:["Genre: ",a]}),e.jsxs("span",{children:["Release: ",m]})]}),e.jsx("button",{children:e.jsx("svg",{onClick:()=>j(t,l),className:`${s.like} ${l?s.likeActive:""}`,children:e.jsx("use",{href:`${d}#icon-heart`})})}),e.jsx("button",{onClick:()=>x(o),children:e.jsx("svg",{className:s.video,children:e.jsx("use",{href:`${d}#icon-video`})})}),e.jsx("button",{className:s.button,onClick:()=>u(t),children:"Delete"}),e.jsx(P,{movie:{_id:t,title:o,director:n,genre:a,poster:i,releaseDate:m,favorite:l},className:s.btnEdit})]},t));return e.jsx($,{title:"My favorite movies page",children:c.length>0?e.jsxs(e.Fragment,{children:[e.jsx("ol",{className:s.list,children:I}),e.jsx(y,{isOpen:p,trailerUrl:_,errorMessage:h,onClose:b})]}):e.jsx(A,{children:"No favorite movies have been added yet"})})};export{H as default};
