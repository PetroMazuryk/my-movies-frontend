import{r as j,u as f,j as e,a as M,f as b,b as k,d as N}from"./index-80213ada.js";import{g,E as I,s,M as y,a as F,b as p,T as E}from"./movies-selectors-eedeaaf5.js";import{u as D}from"./useForm-8e714e62.js";const A="_list_15n79_1",C="_listItem_15n79_10",P="_posterWrapper_15n79_22",$="_listItemPoster_15n79_34",G="_listItemInfo_15n79_46",T="_like_15n79_60",q="_likeActive_15n79_70",R="_button_15n79_75",S="_btnEdit_15n79_98",o={list:A,listItem:C,posterWrapper:P,listItemPoster:$,listItemInfo:G,like:T,likeActive:q,button:R,btnEdit:S},W="/my-movies-frontend/assets/sprite-87812ad7.svg",Y="http://localhost:4444",L=({items:l,onDeleteMovie:t})=>{const i=j.useRef(null),a=f(g).some(n=>n===l._id),x=()=>{},h=l.map(({_id:n,title:c,director:v,genre:d,poster:r,releaseDate:u,favorite:_})=>e.jsxs("li",{className:o.listItem,children:[r&&e.jsx("div",{className:o.posterWrapper,children:e.jsx("img",{ref:i,className:o.listItemPoster,src:`${Y}/${r}`,alt:`Poster for ${c}`})}),e.jsxs("div",{className:o.listItemInfo,children:[e.jsxs("h2",{children:["Назва: ",c]}),e.jsxs("span",{children:["Director: ",v]}),e.jsxs("span",{children:["Genre: ",d]}),e.jsxs("span",{children:["Release: ",u]})]}),e.jsx("button",{children:e.jsx("svg",{onClick:x,className:`${o.like} ${a?o.likeActive:""}`,children:e.jsx("use",{href:`${W}#icon-heart`})})}),e.jsx("button",{className:o.button,onClick:()=>t(n),children:"Delete"}),e.jsx(I,{movie:{_id:n,title:c,director:v,genre:d,poster:r,releaseDate:u,favorite:_},className:o.btnEdit})]},n));return e.jsx("ol",{className:o.list,children:h})},B={title:"",director:"",favorite:!1,genre:"fantastic",releaseDate:"",poster:null},w=({onSubmit:l})=>{const{state:t,handleChange:i,reset:m}=D({initialState:B,onSubmit:l}),a=d=>{d.preventDefault();const r=new FormData(d.currentTarget);r.set("favorite",t.favorite),l(r),m()},{title:x,director:h,favorite:n,releaseDate:c}=t,v=[/\d/,/\d/,/\d/,/\d/];return e.jsxs("form",{onSubmit:a,className:s.form,encType:"multipart/form-data",children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Movie title"}),e.jsx("input",{value:x,name:"title",onChange:i,className:s.textField,placeholder:"Movie title",required:!0})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Movie director"}),e.jsx("input",{value:h,name:"director",onChange:i,className:s.textField,placeholder:"Movie director",required:!0})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Favorite"}),e.jsx("input",{checked:n,name:"favorite",onChange:i,className:s.checkbox,type:"checkbox"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Movie genre"}),e.jsxs("select",{name:"genre",onChange:i,children:[e.jsx("option",{value:"fantastic",children:"Fantastic"}),e.jsx("option",{value:"love story",children:"Love story"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Movie release date"}),e.jsx(y,{mask:v,value:c,name:"releaseDate",onChange:i,className:s.textField,placeholder:"YYYY",required:!0})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Poster"}),e.jsx("input",{name:"poster",type:"file"})]}),e.jsx("button",{className:s.btn,type:"submit",children:"Add movie"})]})},U="_title_xta3q_1",V="_blocks_xta3q_8",z={title:U,blocks:V},H=()=>{const l=f(F),t=M();j.useEffect(()=>{t(b())},[t]);const i=a=>{t(k(a))},m=a=>{t(N(a))};return e.jsx("div",{children:e.jsxs("div",{className:z.blocks,children:[e.jsx(p,{title:"Add movie",children:e.jsx(w,{onSubmit:i})}),e.jsx(p,{title:"Movie list",children:e.jsx(L,{items:l,onDeleteMovie:m})})]})})},Q=()=>e.jsxs("div",{children:[e.jsx(E,{children:"My movies page"}),e.jsx(H,{})]});export{Q as default};
