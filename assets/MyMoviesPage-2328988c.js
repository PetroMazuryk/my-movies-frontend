import{r as se,j as l,c as ce,g as fe,u as de,a as pe,f as he,b as ve,d as me}from"./index-2767f776.js";import{g as ge,M as ie}from"./movies-selectors-cfb43f1d.js";import{u as ye}from"./useForm-66dfd2d5.js";const be="_list_z28du_1",xe="_listItem_z28du_8",ke="_posterWrapper_z28du_21",_e="_listItemPoster_z28du_33",Ce="_listItemInfo_z28du_45",je="_button_z28du_59",ne={list:be,listItem:xe,posterWrapper:ke,listItemPoster:_e,listItemInfo:Ce,button:je},Te="http://localhost:4444",Oe=({items:X,onDeleteMovie:W})=>{const R=se.useRef(null),g=X.map(({_id:r,title:s,director:u,genre:f,poster:m,releaseDate:h})=>l.jsxs("li",{className:ne.listItem,children:[m&&l.jsx("div",{className:ne.posterWrapper,children:l.jsx("img",{ref:R,className:ne.listItemPoster,src:`${Te}/${m}`,alt:`Poster for ${s}`})}),l.jsxs("div",{className:ne.listItemInfo,children:[l.jsxs("h2",{children:["Назва: ",s]}),l.jsxs("span",{children:["Director: ",u]}),l.jsxs("span",{children:["Genre: ",f]}),l.jsxs("span",{children:["Release: ",h]})]}),l.jsx("button",{className:ne.button,onClick:()=>W(r),children:"Delete"})]},r));return l.jsx("ol",{className:ne.list,children:g})};var ue={exports:{}};(function(X,W){(function(R,g){X.exports=g(se)})(ce,function(R){return function(g){function r(u){if(s[u])return s[u].exports;var f=s[u]={exports:{},id:u,loaded:!1};return g[u].call(f.exports,f,f.exports,r),f.loaded=!0,f.exports}var s={};return r.m=g,r.c=s,r.p="",r(0)}([function(g,r,s){function u(i){return i&&i.__esModule?i:{default:i}}function f(i,e){var t={};for(var n in i)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}function m(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function h(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}function x(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0}),r.conformToMask=void 0;var v=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},y=function(){function i(e,t){for(var n=0;n<t.length;n++){var p=t[n];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(e,p.key,p)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),C=s(3);Object.defineProperty(r,"conformToMask",{enumerable:!0,get:function(){return u(C).default}});var k=s(11),a=u(k),b=s(9),o=u(b),T=s(5),U=u(T),P=s(2),F=function(i){function e(){var t;m(this,e);for(var n=arguments.length,p=Array(n),d=0;d<n;d++)p[d]=arguments[d];var c=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(p)));return c.setRef=c.setRef.bind(c),c.onBlur=c.onBlur.bind(c),c.onChange=c.onChange.bind(c),c}return x(e,i),y(e,[{key:"setRef",value:function(t){this.inputElement=t}},{key:"initTextMask",value:function(){var t=this.props,n=this.props.value;this.textMaskInputElement=(0,U.default)(v({inputElement:this.inputElement},t)),this.textMaskInputElement.update(n)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(t){var n=this.props,p=n.value,d=n.pipe,c=n.mask,J=n.guide,I=n.placeholderChar,B=n.showMask,j={guide:J,placeholderChar:I,showMask:B},G=typeof d=="function"&&typeof t.pipe=="function"?d.toString()!==t.pipe.toString():(0,P.isNil)(d)&&!(0,P.isNil)(t.pipe)||!(0,P.isNil)(d)&&(0,P.isNil)(t.pipe),N=c.toString()!==t.mask.toString(),A=Object.keys(j).some(function(O){return j[O]!==t[O]})||N||G,V=p!==this.inputElement.value;(V||A)&&this.initTextMask()}},{key:"render",value:function(){var n=this.props,p=n.render,d=f(n,["render"]);return delete d.mask,delete d.guide,delete d.pipe,delete d.placeholderChar,delete d.keepCharPositions,delete d.value,delete d.onBlur,delete d.onChange,delete d.showMask,p(this.setRef,v({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},d))}},{key:"onChange",value:function(t){this.textMaskInputElement.update(),typeof this.props.onChange=="function"&&this.props.onChange(t)}},{key:"onBlur",value:function(t){typeof this.props.onBlur=="function"&&this.props.onBlur(t)}}]),e}(a.default.PureComponent);r.default=F,F.propTypes={mask:o.default.oneOfType([o.default.array,o.default.func,o.default.bool,o.default.shape({mask:o.default.oneOfType([o.default.array,o.default.func]),pipe:o.default.func})]).isRequired,guide:o.default.bool,value:o.default.oneOfType([o.default.string,o.default.number]),pipe:o.default.func,placeholderChar:o.default.string,keepCharPositions:o.default.bool,showMask:o.default.bool},F.defaultProps={render:function(i,e){return a.default.createElement("input",v({ref:i},e))}}},function(g,r){Object.defineProperty(r,"__esModule",{value:!0}),r.placeholderChar="_",r.strFunction="function"},function(g,r,s){function u(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.placeholderChar;if(!f(a))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(a.indexOf(b)!==-1)throw new Error(`Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.

`+("The placeholder character that was received is: "+JSON.stringify(b)+`

`)+("The mask that was received is: "+JSON.stringify(a)));return a.map(function(o){return o instanceof RegExp?b:o}).join("")}function f(a){return Array.isArray&&Array.isArray(a)||a instanceof Array}function m(a){return typeof a=="string"||a instanceof String}function h(a){return typeof a=="number"&&a.length===void 0&&!isNaN(a)}function x(a){return typeof a>"u"||a===null}function v(a){for(var b=[],o=void 0;o=a.indexOf(k),o!==-1;)b.push(o),a.splice(o,1);return{maskWithoutCaretTraps:a,indexes:b}}Object.defineProperty(r,"__esModule",{value:!0}),r.convertMaskToPlaceholder=u,r.isArray=f,r.isString=m,r.isNumber=h,r.isNil=x,r.processCaretTraps=v;var y=s(1),C=[],k="[]"},function(g,r,s){function u(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(0,m.isArray)(C)){if((typeof C>"u"?"undefined":f(C))!==h.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");C=C(y,k),C=(0,m.processCaretTraps)(C).maskWithoutCaretTraps}var a=k.guide,b=a===void 0||a,o=k.previousConformedValue,T=o===void 0?v:o,U=k.placeholderChar,P=U===void 0?h.placeholderChar:U,F=k.placeholder,i=F===void 0?(0,m.convertMaskToPlaceholder)(C,P):F,e=k.currentCaretPosition,t=k.keepCharPositions,n=b===!1&&T!==void 0,p=y.length,d=T.length,c=i.length,J=C.length,I=p-d,B=I>0,j=e+(B?-I:0),G=j+Math.abs(I);if(t===!0&&!B){for(var N=v,A=j;A<G;A++)i[A]===P&&(N+=P);y=y.slice(0,j)+N+y.slice(j,p)}for(var V=y.split(v).map(function(L,$){return{char:L,isNew:$>=j&&$<G}}),O=p-1;O>=0;O--){var _=V[O].char;if(_!==P){var K=O>=j&&d===J;_===i[K?O-I:O]&&V.splice(O,1)}}var S=v,Q=!1;e:for(var z=0;z<c;z++){var ee=i[z];if(ee===P){if(V.length>0)for(;V.length>0;){var te=V.shift(),Z=te.char,oe=te.isNew;if(Z===P&&n!==!0){S+=P;continue e}if(C[z].test(Z)){if(t===!0&&oe!==!1&&T!==v&&b!==!1&&B){for(var re=V.length,Y=null,D=0;D<re;D++){var H=V[D];if(H.char!==P&&H.isNew===!1)break;if(H.char===P){Y=D;break}}Y!==null?(S+=Z,V.splice(Y,1)):z--}else S+=Z;continue e}Q=!0}n===!1&&(S+=i.substr(z,c));break}S+=ee}if(n&&B===!1){for(var E=null,M=0;M<S.length;M++)i[M]===P&&(E=M);S=E!==null?S.substr(0,E+1):v}return{conformedValue:S,meta:{someCharsRejected:Q}}}Object.defineProperty(r,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};r.default=u;var m=s(2),h=s(1),x=[],v=""},function(g,r){function s(m){var h=m.previousConformedValue,x=h===void 0?f:h,v=m.previousPlaceholder,y=v===void 0?f:v,C=m.currentCaretPosition,k=C===void 0?0:C,a=m.conformedValue,b=m.rawValue,o=m.placeholderChar,T=m.placeholder,U=m.indexesOfPipedChars,P=U===void 0?u:U,F=m.caretTrapIndexes,i=F===void 0?u:F;if(k===0||!b.length)return 0;var e=b.length,t=x.length,n=T.length,p=a.length,d=e-t,c=d>0,J=t===0,I=d>1&&!c&&!J;if(I)return k;var B=c&&(x===a||a===T),j=0,G=void 0,N=void 0;if(B)j=k-d;else{var A=a.toLowerCase(),V=b.toLowerCase(),O=V.substr(0,k).split(f),_=O.filter(function(w){return A.indexOf(w)!==-1});N=_[_.length-1];var K=y.substr(0,_.length).split(f).filter(function(w){return w!==o}).length,S=T.substr(0,_.length).split(f).filter(function(w){return w!==o}).length,Q=S!==K,z=y[_.length-1]!==void 0&&T[_.length-2]!==void 0&&y[_.length-1]!==o&&y[_.length-1]!==T[_.length-1]&&y[_.length-1]===T[_.length-2];!c&&(Q||z)&&K>0&&T.indexOf(N)>-1&&b[k]!==void 0&&(G=!0,N=b[k]);for(var ee=P.map(function(w){return A[w]}),te=ee.filter(function(w){return w===N}).length,Z=_.filter(function(w){return w===N}).length,oe=T.substr(0,T.indexOf(o)).split(f).filter(function(w,ae){return w===N&&b[ae]!==w}).length,re=oe+Z+te+(G?1:0),Y=0,D=0;D<p;D++){var H=A[D];if(j=D+1,H===N&&Y++,Y>=re)break}}if(c){for(var E=j,M=j;M<=n;M++)if(T[M]===o&&(E=M),T[M]===o||i.indexOf(M)!==-1||M===n)return E}else if(G){for(var L=j-1;L>=0;L--)if(a[L]===N||i.indexOf(L)!==-1||L===0)return L}else for(var $=j;$>=0;$--)if(T[$-1]===o||i.indexOf($)!==-1||$===0)return $}Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var u=[],f=""},function(g,r,s){function u(e){return e&&e.__esModule?e:{default:e}}function f(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,d=p.inputElement,c=p.mask,J=p.guide,I=p.pipe,B=p.placeholderChar,j=B===void 0?o.placeholderChar:B,G=p.keepCharPositions,N=G!==void 0&&G,A=p.showMask,V=A!==void 0&&A;if(typeof n>"u"&&(n=d.value),n!==t.previousConformedValue){(typeof c>"u"?"undefined":v(c))===P&&c.pipe!==void 0&&c.mask!==void 0&&(I=c.pipe,c=c.mask);var O=void 0,_=void 0;if(c instanceof Array&&(O=(0,b.convertMaskToPlaceholder)(c,j)),c!==!1){var K=h(n),S=d.selectionEnd,Q=t.previousConformedValue,z=t.previousPlaceholder,ee=void 0;if((typeof c>"u"?"undefined":v(c))===o.strFunction){if(_=c(K,{currentCaretPosition:S,previousConformedValue:Q,placeholderChar:j}),_===!1)return;var te=(0,b.processCaretTraps)(_),Z=te.maskWithoutCaretTraps,oe=te.indexes;_=Z,ee=oe,O=(0,b.convertMaskToPlaceholder)(_,j)}else _=c;var re={previousConformedValue:Q,guide:J,placeholderChar:j,pipe:I,placeholder:O,currentCaretPosition:S,keepCharPositions:N},Y=(0,a.default)(K,_,re),D=Y.conformedValue,H=(typeof I>"u"?"undefined":v(I))===o.strFunction,E={};H&&(E=I(D,x({rawValue:K},re)),E===!1?E={value:Q,rejected:!0}:(0,b.isString)(E)&&(E={value:E}));var M=H?E.value:D,L=(0,C.default)({previousConformedValue:Q,previousPlaceholder:z,conformedValue:M,placeholder:O,rawValue:K,currentCaretPosition:S,placeholderChar:j,indexesOfPipedChars:E.indexesOfPipedChars,caretTrapIndexes:ee}),$=M===O&&L===0,w=V?O:T,ae=$?w:M;t.previousConformedValue=ae,t.previousPlaceholder=O,d.value!==ae&&(d.value=ae,m(d,L))}}}}}function m(e,t){document.activeElement===e&&(F?i(function(){return e.setSelectionRange(t,t,U)},0):e.setSelectionRange(t,t,U))}function h(e){if((0,b.isString)(e))return e;if((0,b.isNumber)(e))return String(e);if(e==null)return T;throw new Error(`The 'value' provided to Text Mask needs to be a string or a number. The value received was:

 `+JSON.stringify(e))}Object.defineProperty(r,"__esModule",{value:!0});var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(e[p]=n[p])}return e},v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=f;var y=s(4),C=u(y),k=s(3),a=u(k),b=s(2),o=s(1),T="",U="none",P="object",F=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),i=typeof requestAnimationFrame<"u"?requestAnimationFrame:setTimeout},function(g,r){function s(f){return function(){return f}}var u=function(){};u.thatReturns=s,u.thatReturnsFalse=s(!1),u.thatReturnsTrue=s(!0),u.thatReturnsNull=s(null),u.thatReturnsThis=function(){return this},u.thatReturnsArgument=function(f){return f},g.exports=u},function(g,r,s){function u(f,m,h,x,v,y,C,k){if(!f){var a;if(m===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[h,x,v,y,C,k],o=0;a=new Error(m.replace(/%s/g,function(){return b[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}g.exports=u},function(g,r,s){var u=s(6),f=s(7),m=s(10);g.exports=function(){function h(y,C,k,a,b,o){o!==m&&f(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function x(){return h}h.isRequired=h;var v={array:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:x,element:h,instanceOf:x,node:h,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x};return v.checkPropTypes=u,v.PropTypes=v,v}},function(g,r,s){g.exports=s(8)()},function(g,r){var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";g.exports=s},function(g,r){g.exports=R}])})})(ue);var Pe=ue.exports;const Me=fe(Pe),we={title:"",director:"",favorite:!1,genre:"fantastic",releaseDate:""},Ne="_form_18q3r_1",Se="_formGroup_18q3r_11",Ee="_textField_18q3r_25",Ie="_checkbox_18q3r_40",Ve="_btn_18q3r_57",q={form:Ne,formGroup:Se,textField:Ee,checkbox:Ie,btn:Ve},Re=({onSubmit:X})=>{const{state:W,handleChange:R,reset:g}=ye({initialState:we,onSubmit:X}),r=x=>{x.preventDefault();const v=new FormData(x.currentTarget);v.set("favorite",W.favorite),X(v),g()},{title:s,director:u,favorite:f,releaseDate:m}=W,h=[/\d/,/\d/,/\d/,/\d/];return l.jsxs("form",{onSubmit:r,className:q.form,encType:"multipart/form-data",children:[l.jsxs("div",{className:q.formGroup,children:[l.jsx("label",{children:"Movie title"}),l.jsx("input",{value:s,name:"title",onChange:R,className:q.textField,placeholder:"Movie title",required:!0})]}),l.jsxs("div",{className:q.formGroup,children:[l.jsx("label",{children:"Movie director"}),l.jsx("input",{value:u,name:"director",onChange:R,className:q.textField,placeholder:"Movie director",required:!0})]}),l.jsxs("div",{className:q.formGroup,children:[l.jsx("label",{children:"Favorite"}),l.jsx("input",{checked:f,name:"favorite",onChange:R,className:q.checkbox,type:"checkbox"})]}),l.jsxs("div",{className:q.formGroup,children:[l.jsx("label",{children:"Movie genre"}),l.jsxs("select",{name:"genre",onChange:R,children:[l.jsx("option",{value:"fantastic",children:"Fantastic"}),l.jsx("option",{value:"love story",children:"Love story"})]})]}),l.jsxs("div",{className:q.formGroup,children:[l.jsx("label",{children:"Movie release date"}),l.jsx(Me,{mask:h,value:m,name:"releaseDate",onChange:R,className:q.textField,placeholder:"YYYY",required:!0})]}),l.jsxs("div",{className:q.formGroup,children:[l.jsx("label",{children:"Poster"}),l.jsx("input",{name:"poster",type:"file"})]}),l.jsx("button",{className:q.btn,type:"submit",children:"Add movie"})]})},Ae="_wrapper_2saq2_1",De="_title_2saq2_5",qe="_blocks_2saq2_12",le={wrapper:Ae,title:De,blocks:qe},Fe=()=>{const X=de(ge),W=pe();se.useEffect(()=>{W(he())},[W]);const R=r=>{W(ve(r))},g=r=>{W(me(r))};return l.jsx("div",{className:le.wrapper,children:l.jsxs("div",{className:le.blocks,children:[l.jsx(ie,{title:"Add movie",children:l.jsx(Re,{onSubmit:R})}),l.jsx(ie,{title:"Movie list",children:l.jsx(Oe,{items:X,onDeleteMovie:g})})]})})},$e=()=>l.jsxs("div",{className:"container",children:[l.jsx("h1",{className:"page-title",children:"My movies page"}),l.jsx(Fe,{})]});export{$e as default};
